<script>

    var
        data = {}
    ;

    $(function() {
        var urlParts = location.pathname.split('/');

        if (urlParts[3]) {
            $('.sidebar-section').find('li[data-id="' + urlParts[3] + '"]').addClass('selected');
        }
        else {
            // Select the relevant item from the list.
            $('.sidebar-section').find('li').first().addClass('selected');

        }

        $('.sidebar-drawer').on('click', function(ev) {
            var
                    $parent = $(ev.target).closest('li'),
                    $submenu = $parent.find('ul')
            ;

            $submenu.toggle();
        });

        $('pre[class*="language-"]').each(function(index, target) {
            var toolbarString = '<div class="toolbar">' +
                                    '<div class="toolbar-item">' +
                                        '<button class="copy-button">Copy</button>' +
                                    '</div>' +
                                '</div>'
            ;

            $(toolbarString).appendTo(target);
        });

        $('.copy-button').each(function(index, button) {
            var clippy = new Clipboard(button, {
                target: function(trigger) {
                    return $(trigger).closest('pre').find('code')[0]
                }
            });

            clippy.on('success', function(ev) {
                var button = ev.trigger;

                ev.clearSelection();
                button.textContent = 'Copied';

                setTimeout(function () {
                    button.textContent = 'Copy';
                }, 1500);
            });

            clippy.on('failure', function(ev) {
               alert('Clipboard error, please copy using ctrl + c instead.');
            });
        });

        $('a.toggle-menu').on('click', function(ev) {
            var
                    $contentWrapper = $('#content-wrapper'),
                    $sidebar = $('.sidebar'),
                    $content = $('#content')
            ;

            if ($contentWrapper.hasClass('show-menu')) {
                $contentWrapper.removeClass('show-menu');
                $content.addClass('col-md-10 col-md-offset-1');
                $sidebar.hide();
            }
            else {
                $contentWrapper.addClass('show-menu');
                $content.removeClass('col-md-10 col-md-offset-1');
                $sidebar.show();
            }
        });
    });

</script>